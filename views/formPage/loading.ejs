<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Loading</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="css/homeForm/loadingStyles.css" />

    <!--Include Bootstrap JS (with defer tag for adding in HTML head)-->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <!-- Include jQuery for Nav Bar scroll effect -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- Include Three.js for 3D model on page -->
    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@<version>/build/three.module.js",
          "three/addons/": "https://unpkg.com/three@<version>/examples/jsm/"
        }
      }
    </script>
  </head>
  <body>
    <!-- Nav Bar -->
    <nav
      class="navbar navbar-expand-lg navbar-dark fixed-top navbar-background"
      id="navbar"
    >
      <div class="container p-1">
        <a class="navbar-brand" href="/" style="font-weight: 700">HooBuff</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarToggler"
          aria-controls="navbarToggler"
          aria-expanded="false"
          aria-label="Toggle Navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarToggler">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a href="/" class="nav-link">Home</a>
            </li>
            <li class="nav-item">
              <a href="/workoutform" class="nav-link">Create Workout</a>
            </li>
            <li class="nav-item">
              <a href="/search" class="nav-link">Search Exercises</a>
            </li>
            <li class="nav-item">
              <a href="/information" class="nav-link">Information</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container loading-menu text-center">
      <h1 class="wave-effect">Generating Your Customized Look...</h1>
    </div>

    <script src="js/homeForm/loadingPage.js"></script>

    <script>
      // Delay the form submission for 3 seconds
      setTimeout(function () {
        document.getElementById("form").submit();
      }, 1500);
    </script>
    <form id="form" action="/generate-workout" method="POST">
      <!-- Include hidden fields to pass the form data -->
      <input type="hidden" name="workoutType" value="<%= workoutType %>" />
      <input type="hidden" name="muscle" value="<%= muscleGroups %>" />
      <input type="hidden" name="difficulty" value="<%= difficulty %>" />
      <input type="hidden" name="time" value="<%= time %>" />
    </form>
  </body>
</html>
